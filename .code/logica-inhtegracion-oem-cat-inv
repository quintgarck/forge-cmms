ğŸ“ LÃ³gica de IntegraciÃ³n: OEM + CATÃLOGO + INVENTARIO
ğŸ¯ Flujo de IntegraciÃ³n Completo
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           FLUJO INTEGRACIÃ“N FORGE-CMMS                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚    CATÃLOGO  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚     OEM      â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   INVENTARIO â”‚
     â”‚  (Maestro)   â”‚          â”‚ (Referencia) â”‚          â”‚  (Stock)     â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                        â”‚                        â”‚
            â”‚   group_code           â”‚   oem_ref              â”‚   internal_sku
            â”‚   category_id          â”‚   oem_code             â”‚   supplier_sku
            â”‚   equipment_type       â”‚   part_number          â”‚   stock_level
            â–¼                        â–¼                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           MODELOS DE DATOS                                  â”‚
â”‚                                                                             â”‚
â”‚  CATÃLOGO                    OEM                      INVENTARIO           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ Category    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ OEMBrand    â”‚           â”‚ProductMasterâ”‚      â”‚
â”‚  â”‚ (type_id)   â”‚   1:N      â”‚ (oem_code) â”‚           â”‚(internal_sku)      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚        â”‚                          â”‚                           â”‚             â”‚
â”‚        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚             â”‚
â”‚        â””â”€â”€â–ºâ”‚EquipmentTypeâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â–ºâ”‚OEMCatalog   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚            â”‚(type_id)    â”‚   1:N   â”‚Item         â”‚   N:1                 â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                     â”‚                                      â”‚
â”‚                                     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚                                     â””â”€â”€â–ºâ”‚OEMEquivalenceâ”œâ”€â”€â”€â”                â”‚
â”‚                                         â”‚             â”‚   â”‚                â”‚
â”‚                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                â”‚
â”‚                                                           â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                            â”‚
                                                            â–¼
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚  Fitment    â”‚
                                                    â”‚(compatibilidad)
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ğŸ”— Claves de RelaciÃ³n Entre Modelos
De	Campo	RelaciÃ³n	Hacia	Campo
ProductMaster	oem_ref	N:1	OEMCatalogItem	part_number
ProductMaster	oem_code	N:1	OEMBrand	oem_code
ProductMaster	group_code	N:1	TaxonomyGroup	group_code
ProductMaster	supplier_mpn	N:1	SupplierSKU	supplier_mpn
OEMCatalogItem	group_code	N:1	TaxonomyGroup	group_code
OEMEquivalence	oem_code	N:1	OEMBrand	oem_code
Fitment	internal_sku	N:1	ProductMaster	internal_sku
ğŸ“‹ Escenarios de IntegraciÃ³n
1ï¸âƒ£ BÃºsqueda de Repuesto por NÃºmero OEM
Usuario busca: "Filtro diesel 123456"
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Consultar OEM Catalog (oem_catalog_items)           â”‚
â”‚     WHERE part_number LIKE '%123456%'                  â”‚
â”‚     â””â”€â–º OEMBrand, OEMCatalogItem                       â”‚
â”‚                                                         â”‚
â”‚  2. Obtener equivalencias (si existe)                  â”‚
â”‚     WHERE oem_part_number = '123456'                   â”‚
â”‚     â””â”€â–º OEMEquivalence (aftermarket_sku alternatives)  â”‚
â”‚                                                         â”‚
â”‚  3. Buscar en inventario (si hay alternativa)          â”‚
â”‚     WHERE internal_sku IN (...)                        â”‚
â”‚     â””â”€â–º ProductMaster, Stock                           â”‚
â”‚                                                         â”‚
â”‚  4. Mostrar: OEM Price â”‚ Aftermarket Price â”‚ Stock     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2ï¸âƒ£ Crear Producto en Inventario desde OEM
Usuario selecciona OEM Part Number del catÃ¡logo
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Copiar datos desde OEMCatalogItem:                  â”‚
â”‚     - description_es â†’ name                            â”‚
â”‚     - oem_code â†’ oem_code                              â”‚
â”‚     - part_number â†’ oem_ref                            â”‚
â”‚     - weight_kg â†’ weight_kg                             â”‚
â”‚     - dimensions â†’ dimensions_cm                         â”‚
â”‚     - list_price â†’ standard_cost                        â”‚
â”‚                                                         â”‚
â”‚  2. Generar internal_sku Ãºnico                         â”‚
â”‚     Formato: {OEM_CODE}{SEQ}                           â”‚
â”‚     Ejemplo: CAT0010001                                 â”‚
â”‚                                                         â”‚
â”‚  3. Vincular con taxonomy (group_code)                  â”‚
â”‚     Auto-seleccionar segÃºn categorÃ­a del OEM            â”‚
â”‚                                                         â”‚
â”‚  4. Crear registro en ProductMaster                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
3ï¸âƒ£ Compatibilidad con Equipos (Fitment)
Usuario selecciona equipo del cliente
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Obtener datos del equipo:                           â”‚
â”‚     - brand (Ford, CAT, John Deere)                    â”‚
â”‚     - model (F-150, 320)                              â”‚
â”‚     - year (2020, 2023)                               â”‚
â”‚     - engine_code, transmission_code                    â”‚
â”‚                                                         â”‚
â”‚  2. Buscar en OEM Catalog compatible:                   â”‚
â”‚     WHERE oem_code IN (equipos del mismo brand)         â”‚
â”‚     AND (year_start <= equipo.year)                     â”‚
â”‚     AND (year_end IS NULL OR >= equipo.year)           â”‚
â”‚     AND (engine_codes CONTAINS equipo.engine_code)      â”‚
â”‚                                                         â”‚
â”‚  3. Filtrar productos en inventario                    â”‚
â”‚     WHERE oem_ref IN (OEM parts compatibles)            â”‚
â”‚     AND stock.qty_available > 0                        â”‚
â”‚                                                         â”‚
â”‚  4. Mostrar partes recomendadas para el equipo         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ğŸ“Š Tabla de APIs/Servicios de IntegraciÃ³n
Servicio	Endpoint	FunciÃ³n
api_client.get_oem_brands()	GET /api/oem/brands/	Lista marcas OEM
api_client.get_oem_catalog_items()	GET /api/oem/catalog/	CatÃ¡logo de partes OEM
api_client.get_oem_equivalences()	GET /api/oem/equivalences/	Equivalencias OEMâ†”Aftermarket
api_client.get_product_master()	GET /api/inventory/products/	Productos inventario
api_client.get_stock()	GET /api/inventory/stock/	Stock por warehouse
api_client.get_fitment()	GET /api/inventory/fitment/	Compatibilidad equipo-producto
ğŸ¯ Pasos para Completar la IntegraciÃ³n OEM
#	Componente	Estado	AcciÃ³n Requerida
1	OEM Brands CRUD	âš ï¸ Parcial	Completar vistas de gestiÃ³n
2	OEM Catalog Items	âš ï¸ Parcial	Completar CRUD completo
3	OEM Equivalences	âŒ Faltante	Crear modelo+vista+API
4	Fitment (compatibilidad)	âŒ Faltante	Crear modelo+vista+API
5	IntegraciÃ³n ProductMasterâ†”OEM	âŒ Faltante	Crear servicio de importaciÃ³n
6	BÃºsqueda unificada	âŒ Faltante	API de bÃºsqueda cruzada
Â¿Quieres que detalle el desarrollo de alguno de estos componentes de integraciÃ³n?