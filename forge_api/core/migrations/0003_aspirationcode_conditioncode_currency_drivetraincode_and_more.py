# Generated by Django 4.2.7 on 2026-01-02 23:22

import datetime
from decimal import Decimal
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0002_technicianuser'),
    ]

    operations = [
        migrations.CreateModel(
            name='AspirationCode',
            fields=[
                ('aspiration_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=30)),
                ('name_en', models.CharField(blank=True, max_length=30, null=True)),
            ],
            options={
                'db_table': 'cat.aspiration_codes',
                'ordering': ['aspiration_code'],
            },
        ),
        migrations.CreateModel(
            name='ConditionCode',
            fields=[
                ('condition_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=50)),
                ('name_en', models.CharField(blank=True, max_length=50, null=True)),
                ('requires_core', models.BooleanField(default=False)),
                ('sort_order', models.IntegerField(default=0)),
            ],
            options={
                'db_table': 'cat.condition_codes',
                'ordering': ['sort_order', 'condition_code'],
            },
        ),
        migrations.CreateModel(
            name='Currency',
            fields=[
                ('currency_code', models.CharField(max_length=3, primary_key=True, serialize=False)),
                ('name', models.CharField(max_length=50)),
                ('symbol', models.CharField(blank=True, max_length=5, null=True)),
                ('exchange_rate', models.DecimalField(decimal_places=4, default=Decimal('1.0'), max_digits=10)),
                ('decimals', models.IntegerField(default=2)),
                ('is_active', models.BooleanField(default=True)),
            ],
            options={
                'verbose_name_plural': 'Currencies',
                'db_table': 'cat.currencies',
                'ordering': ['currency_code'],
            },
        ),
        migrations.CreateModel(
            name='DrivetrainCode',
            fields=[
                ('drivetrain_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=30)),
                ('name_en', models.CharField(blank=True, max_length=30, null=True)),
            ],
            options={
                'db_table': 'cat.drivetrain_codes',
                'ordering': ['drivetrain_code'],
            },
        ),
        migrations.CreateModel(
            name='EquipmentType',
            fields=[
                ('type_id', models.AutoField(primary_key=True, serialize=False)),
                ('type_code', models.CharField(max_length=20, unique=True)),
                ('category', models.CharField(choices=[('AUTOMOTRIZ', 'Automotriz'), ('INDUSTRIAL', 'Industrial'), ('AGRÍCOLA', 'Agrícola'), ('CONSTRUCCIÓN', 'Construcción'), ('ELECTRÓNICO', 'Electrónico'), ('OTRO', 'Otro')], max_length=30)),
                ('name', models.CharField(max_length=100)),
                ('icon', models.CharField(blank=True, max_length=50, null=True)),
                ('color', models.CharField(blank=True, max_length=20, null=True)),
                ('attr_schema', models.JSONField(blank=True, default=dict)),
                ('description', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'cat.equipment_types',
                'ordering': ['category', 'name'],
            },
        ),
        migrations.CreateModel(
            name='FinishCode',
            fields=[
                ('finish_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=50)),
                ('name_en', models.CharField(blank=True, max_length=50, null=True)),
                ('requires_color', models.BooleanField(default=False)),
                ('sort_order', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'cat.finish_codes',
                'ordering': ['sort_order', 'finish_code'],
            },
        ),
        migrations.CreateModel(
            name='FlatRateStandard',
            fields=[
                ('standard_id', models.AutoField(primary_key=True, serialize=False)),
                ('service_code', models.CharField(max_length=20, unique=True)),
                ('description_es', models.TextField()),
                ('description_en', models.TextField(blank=True, null=True)),
                ('standard_hours', models.DecimalField(decimal_places=2, max_digits=5)),
                ('min_hours', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('max_hours', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('difficulty_level', models.IntegerField(blank=True, null=True)),
                ('required_tools', models.JSONField(blank=True, default=list)),
                ('required_skills', models.JSONField(blank=True, default=list)),
                ('manual_source', models.CharField(blank=True, max_length=50, null=True)),
                ('manual_ref', models.CharField(blank=True, max_length=100, null=True)),
                ('oem_ref', models.CharField(blank=True, max_length=30, null=True)),
                ('valid_from', models.DateField(default=datetime.date.today)),
                ('valid_until', models.DateField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('equipment_type', models.ForeignKey(blank=True, db_column='equipment_type_id', null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.equipmenttype')),
            ],
            options={
                'db_table': 'svc.flat_rate_standards',
                'ordering': ['service_code'],
            },
        ),
        migrations.CreateModel(
            name='FuelCode',
            fields=[
                ('fuel_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=30)),
                ('name_en', models.CharField(blank=True, max_length=30, null=True)),
                ('is_alternative', models.BooleanField(default=False)),
            ],
            options={
                'db_table': 'cat.fuel_codes',
                'ordering': ['fuel_code'],
            },
        ),
        migrations.CreateModel(
            name='OEMBrand',
            fields=[
                ('brand_id', models.AutoField(primary_key=True, serialize=False)),
                ('oem_code', models.CharField(max_length=10, unique=True)),
                ('name', models.CharField(max_length=50)),
                ('country', models.CharField(blank=True, max_length=50, null=True)),
                ('website', models.URLField(blank=True, null=True)),
                ('support_email', models.EmailField(blank=True, max_length=254, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'oem.brands',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='PositionCode',
            fields=[
                ('position_code', models.CharField(max_length=15, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=50)),
                ('name_en', models.CharField(blank=True, max_length=50, null=True)),
                ('category', models.CharField(blank=True, choices=[('SIDE', 'Side'), ('CORNER', 'Corner'), ('ZONE', 'Zone'), ('RELATIVE', 'Relative')], max_length=20, null=True)),
                ('sort_order', models.IntegerField(default=0)),
                ('synonyms', models.JSONField(blank=True, default=list)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'cat.position_codes',
                'ordering': ['sort_order', 'position_code'],
            },
        ),
        migrations.CreateModel(
            name='PriceList',
            fields=[
                ('price_list_id', models.AutoField(primary_key=True, serialize=False)),
                ('price_list_code', models.CharField(max_length=20, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('description', models.TextField(blank=True, null=True)),
                ('currency_code', models.CharField(blank=True, max_length=3, null=True)),
                ('is_tax_included', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('valid_from', models.DateField(default=datetime.date.today)),
                ('valid_until', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'inv.price_lists',
                'ordering': ['price_list_code'],
            },
        ),
        migrations.CreateModel(
            name='SourceCode',
            fields=[
                ('source_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=50)),
                ('name_en', models.CharField(blank=True, max_length=50, null=True)),
                ('quality_level', models.CharField(blank=True, choices=[('LOW', 'Low'), ('MEDIUM', 'Medium'), ('HIGH', 'High'), ('PREMIUM', 'Premium')], max_length=10, null=True)),
                ('sort_order', models.IntegerField(default=0)),
            ],
            options={
                'db_table': 'cat.source_codes',
                'ordering': ['sort_order', 'source_code'],
            },
        ),
        migrations.CreateModel(
            name='TaxonomySystem',
            fields=[
                ('system_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('category', models.CharField(default='AUTOMOTRIZ', max_length=30)),
                ('name_es', models.CharField(max_length=100)),
                ('name_en', models.CharField(blank=True, max_length=100, null=True)),
                ('icon', models.CharField(blank=True, max_length=50, null=True)),
                ('scope', models.TextField(blank=True, null=True)),
                ('sort_order', models.IntegerField(default=0)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'cat.taxonomy_systems',
                'ordering': ['sort_order', 'system_code'],
            },
        ),
        migrations.CreateModel(
            name='TransmissionCode',
            fields=[
                ('transmission_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=30)),
                ('name_en', models.CharField(blank=True, max_length=30, null=True)),
            ],
            options={
                'db_table': 'cat.transmission_codes',
                'ordering': ['transmission_code'],
            },
        ),
        migrations.CreateModel(
            name='UOMCode',
            fields=[
                ('uom_code', models.CharField(max_length=10, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=50)),
                ('name_en', models.CharField(blank=True, max_length=50, null=True)),
                ('is_fractional', models.BooleanField(default=False)),
                ('category', models.CharField(blank=True, max_length=20, null=True)),
            ],
            options={
                'db_table': 'cat.uom_codes',
                'ordering': ['uom_code'],
            },
        ),
        migrations.CreateModel(
            name='WOService',
            fields=[
                ('service_id', models.AutoField(primary_key=True, serialize=False)),
                ('service_code', models.CharField(blank=True, max_length=20, null=True)),
                ('description', models.TextField()),
                ('flat_hours', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('estimated_hours', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('actual_hours', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('hourly_rate', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('completion_status', models.CharField(choices=[('PENDING', 'Pending'), ('IN_PROGRESS', 'In Progress'), ('COMPLETED', 'Completed'), ('SKIPPED', 'Skipped')], default='PENDING', max_length=20)),
                ('started_at', models.DateTimeField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('flat_rate', models.ForeignKey(blank=True, db_column='flat_rate_id', null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.flatratestandard')),
                ('technician', models.ForeignKey(blank=True, db_column='technician_id', null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.technician')),
                ('wo', models.ForeignKey(db_column='wo_id', on_delete=django.db.models.deletion.CASCADE, to='core.workorder')),
            ],
            options={
                'db_table': 'svc.wo_services',
                'ordering': ['wo', 'service_id'],
            },
        ),
        migrations.CreateModel(
            name='WOMetric',
            fields=[
                ('metric_id', models.AutoField(primary_key=True, serialize=False)),
                ('efficiency_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('productivity_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('quality_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('customer_satisfaction', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('lead_time_days', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('process_time_days', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('wait_time_days', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('parts_fill_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('parts_accuracy', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('return_rate', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('profitability', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('labor_utilization', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('wo', models.OneToOneField(db_column='wo_id', on_delete=django.db.models.deletion.CASCADE, to='core.workorder')),
            ],
            options={
                'db_table': 'kpi.wo_metrics',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='WOItem',
            fields=[
                ('item_id', models.AutoField(primary_key=True, serialize=False)),
                ('internal_sku', models.CharField(blank=True, db_column='internal_sku', max_length=20, null=True)),
                ('qty_ordered', models.DecimalField(decimal_places=3, default=Decimal('1.0'), max_digits=10)),
                ('qty_used', models.DecimalField(decimal_places=3, default=Decimal('0.0'), max_digits=10)),
                ('qty_returned', models.DecimalField(decimal_places=3, default=Decimal('0.0'), max_digits=10)),
                ('unit_price', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('discount_percent', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('tax_percent', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('reserved_stock_id', models.BigIntegerField(blank=True, null=True)),
                ('reserved_stock_date', models.DateField(blank=True, null=True)),
                ('used_stock_id', models.BigIntegerField(blank=True, null=True)),
                ('used_stock_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('RESERVED', 'Reserved'), ('USED', 'Used'), ('RETURNED', 'Returned'), ('CANCELLED', 'Cancelled')], default='PENDING', max_length=20)),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('wo', models.ForeignKey(db_column='wo_id', on_delete=django.db.models.deletion.CASCADE, to='core.workorder')),
            ],
            options={
                'db_table': 'svc.wo_items',
                'ordering': ['wo', 'item_id'],
            },
        ),
        migrations.CreateModel(
            name='TaxonomySubsystem',
            fields=[
                ('subsystem_code', models.CharField(max_length=20, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=100)),
                ('name_en', models.CharField(blank=True, max_length=100, null=True)),
                ('icon', models.CharField(blank=True, max_length=50, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('sort_order', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('system_code', models.ForeignKey(db_column='system_code', on_delete=django.db.models.deletion.CASCADE, to='core.taxonomysystem')),
            ],
            options={
                'db_table': 'cat.taxonomy_subsystems',
                'ordering': ['system_code', 'sort_order', 'subsystem_code'],
            },
        ),
        migrations.CreateModel(
            name='TaxonomyGroup',
            fields=[
                ('group_code', models.CharField(max_length=20, primary_key=True, serialize=False)),
                ('name_es', models.CharField(max_length=100)),
                ('name_en', models.CharField(blank=True, max_length=100, null=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('examples', models.TextField(blank=True, null=True)),
                ('keywords', models.TextField(blank=True, null=True)),
                ('requires_position', models.BooleanField(default=False)),
                ('requires_color', models.BooleanField(default=False)),
                ('requires_finish', models.BooleanField(default=False)),
                ('requires_side', models.BooleanField(default=False)),
                ('typical_position_set', models.TextField(blank=True, null=True)),
                ('typical_uom', models.CharField(blank=True, max_length=10, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('subsystem_code', models.ForeignKey(db_column='subsystem_code', on_delete=django.db.models.deletion.CASCADE, to='core.taxonomysubsystem')),
                ('system_code', models.ForeignKey(db_column='system_code', on_delete=django.db.models.deletion.CASCADE, to='core.taxonomysystem')),
            ],
            options={
                'db_table': 'cat.taxonomy_groups',
                'ordering': ['system_code', 'subsystem_code', 'name_es'],
            },
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('supplier_id', models.AutoField(primary_key=True, serialize=False)),
                ('supplier_code', models.CharField(max_length=20, unique=True)),
                ('name', models.CharField(max_length=100)),
                ('contact_person', models.CharField(blank=True, max_length=100, null=True)),
                ('contact_email', models.EmailField(blank=True, max_length=254, null=True)),
                ('contact_phone', models.CharField(blank=True, max_length=20, null=True)),
                ('website', models.URLField(blank=True, null=True)),
                ('address', models.TextField(blank=True, null=True)),
                ('city', models.CharField(blank=True, max_length=50, null=True)),
                ('state', models.CharField(blank=True, max_length=50, null=True)),
                ('country', models.CharField(blank=True, max_length=50, null=True)),
                ('tax_id', models.CharField(blank=True, max_length=30, null=True)),
                ('payment_terms', models.IntegerField(default=30)),
                ('currency_code', models.CharField(default='USD', max_length=3)),
                ('rating', models.DecimalField(decimal_places=2, default=Decimal('5.00'), max_digits=3)),
                ('delivery_time_avg', models.IntegerField(default=7)),
                ('quality_score', models.DecimalField(decimal_places=2, default=Decimal('5.00'), max_digits=3)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('INACTIVE', 'Inactive'), ('SUSPENDED', 'Suspended')], default='ACTIVE', max_length=20)),
                ('is_preferred', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('notes', models.TextField(blank=True, null=True)),
            ],
            options={
                'db_table': 'cat.suppliers',
                'ordering': ['name'],
                'indexes': [models.Index(fields=['supplier_code'], name='cat.supplie_supplie_1bd122_idx'), models.Index(fields=['status', 'is_active'], name='cat.supplie_status_326ec8_idx')],
            },
        ),
        migrations.CreateModel(
            name='ServiceChecklist',
            fields=[
                ('checklist_id', models.AutoField(primary_key=True, serialize=False)),
                ('description', models.TextField()),
                ('sequence_no', models.IntegerField()),
                ('is_critical', models.BooleanField(default=False)),
                ('expected_result', models.CharField(blank=True, max_length=100, null=True)),
                ('tool_required', models.CharField(blank=True, max_length=100, null=True)),
                ('estimated_minutes', models.IntegerField(blank=True, null=True)),
                ('flat_rate', models.ForeignKey(blank=True, db_column='flat_rate_id', null=True, on_delete=django.db.models.deletion.CASCADE, to='core.flatratestandard')),
            ],
            options={
                'db_table': 'svc.service_checklists',
                'ordering': ['flat_rate', 'sequence_no'],
            },
        ),
        migrations.CreateModel(
            name='PurchaseOrder',
            fields=[
                ('po_id', models.AutoField(primary_key=True, serialize=False)),
                ('po_number', models.CharField(max_length=30, unique=True)),
                ('order_date', models.DateField(default=datetime.date.today)),
                ('expected_delivery_date', models.DateField(blank=True, null=True)),
                ('actual_delivery_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('APPROVED', 'Approved'), ('ORDERED', 'Ordered'), ('RECEIVED', 'Received'), ('PARTIAL', 'Partially Received'), ('CANCELLED', 'Cancelled')], default='DRAFT', max_length=20)),
                ('subtotal', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('tax_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=12)),
                ('shipping_cost', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('approved_by', models.ForeignKey(blank=True, db_column='approved_by', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_purchase_orders', to='core.technician')),
                ('created_by', models.ForeignKey(blank=True, db_column='created_by', null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.technician')),
                ('supplier', models.ForeignKey(db_column='supplier_id', on_delete=django.db.models.deletion.CASCADE, to='core.supplier')),
            ],
            options={
                'db_table': 'inv.purchase_orders',
                'ordering': ['-order_date', 'po_number'],
            },
        ),
        migrations.CreateModel(
            name='ProductPrice',
            fields=[
                ('product_price_id', models.AutoField(primary_key=True, serialize=False)),
                ('internal_sku', models.CharField(db_column='internal_sku', max_length=20)),
                ('unit_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('tax_percent', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('discount_percent', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('min_qty', models.IntegerField(default=1)),
                ('valid_from', models.DateField(default=datetime.date.today)),
                ('valid_until', models.DateField(blank=True, null=True)),
                ('price_list', models.ForeignKey(db_column='price_list_id', on_delete=django.db.models.deletion.CASCADE, to='core.pricelist')),
            ],
            options={
                'db_table': 'inv.product_prices',
                'ordering': ['price_list', 'internal_sku', '-valid_from'],
            },
        ),
        migrations.CreateModel(
            name='POItem',
            fields=[
                ('po_item_id', models.AutoField(primary_key=True, serialize=False)),
                ('internal_sku', models.CharField(blank=True, db_column='internal_sku', max_length=20, null=True)),
                ('quantity', models.IntegerField()),
                ('unit_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('discount_percent', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('tax_percent', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('quantity_received', models.IntegerField(default=0)),
                ('quantity_rejected', models.IntegerField(default=0)),
                ('notes', models.TextField(blank=True, null=True)),
                ('po', models.ForeignKey(db_column='po_id', on_delete=django.db.models.deletion.CASCADE, to='core.purchaseorder')),
            ],
            options={
                'db_table': 'inv.po_items',
                'ordering': ['po', 'po_item_id'],
            },
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('payment_id', models.AutoField(primary_key=True, serialize=False)),
                ('payment_date', models.DateField(default=datetime.date.today)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=12)),
                ('currency_code', models.CharField(blank=True, max_length=3, null=True)),
                ('payment_method', models.CharField(choices=[('CASH', 'Cash'), ('CHECK', 'Check'), ('CARD', 'Credit/Debit Card'), ('TRANSFER', 'Bank Transfer'), ('OTHER', 'Other')], max_length=20)),
                ('reference_number', models.CharField(blank=True, max_length=50, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('invoice', models.ForeignKey(db_column='invoice_id', on_delete=django.db.models.deletion.CASCADE, to='core.invoice')),
            ],
            options={
                'db_table': 'svc.payments',
                'ordering': ['-payment_date', 'invoice'],
            },
        ),
        migrations.CreateModel(
            name='OEMEquivalence',
            fields=[
                ('equivalence_id', models.AutoField(primary_key=True, serialize=False)),
                ('oem_part_number', models.CharField(max_length=30)),
                ('aftermarket_sku', models.CharField(blank=True, db_column='aftermarket_sku', max_length=20, null=True)),
                ('equivalence_type', models.CharField(blank=True, choices=[('DIRECT', 'Direct'), ('COMPATIBLE', 'Compatible'), ('UPGRADE', 'Upgrade'), ('DOWNGRADE', 'Downgrade')], max_length=20, null=True)),
                ('confidence_score', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('notes', models.TextField(blank=True, null=True)),
                ('verified_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('oem_code', models.ForeignKey(db_column='oem_code', on_delete=django.db.models.deletion.CASCADE, to='core.oembrand', to_field='oem_code')),
                ('verified_by', models.ForeignKey(blank=True, db_column='verified_by', null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.technician')),
            ],
            options={
                'db_table': 'oem.equivalences',
                'ordering': ['oem_code', 'oem_part_number'],
            },
        ),
        migrations.CreateModel(
            name='OEMCatalogItem',
            fields=[
                ('catalog_id', models.AutoField(primary_key=True, serialize=False)),
                ('part_number', models.CharField(max_length=30)),
                ('part_number_type', models.CharField(blank=True, choices=[('BASIC_5', 'Basic 5'), ('DESIGN_5', 'Design 5'), ('FULL_12', 'Full 12')], max_length=15, null=True)),
                ('description_es', models.TextField(blank=True, null=True)),
                ('description_en', models.TextField(blank=True, null=True)),
                ('weight_kg', models.DecimalField(blank=True, decimal_places=3, max_digits=8, null=True)),
                ('dimensions', models.CharField(blank=True, max_length=100, null=True)),
                ('material', models.CharField(blank=True, max_length=50, null=True)),
                ('vin_patterns', models.JSONField(blank=True, default=list)),
                ('model_codes', models.JSONField(blank=True, default=list)),
                ('body_codes', models.JSONField(blank=True, default=list)),
                ('engine_codes', models.JSONField(blank=True, default=list)),
                ('transmission_codes', models.JSONField(blank=True, default=list)),
                ('axle_codes', models.JSONField(blank=True, default=list)),
                ('color_codes', models.JSONField(blank=True, default=list)),
                ('trim_codes', models.JSONField(blank=True, default=list)),
                ('manual_types', models.JSONField(blank=True, default=list)),
                ('manual_refs', models.JSONField(blank=True, default=list)),
                ('list_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('net_price', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('currency_code', models.CharField(default='USD', max_length=3)),
                ('oem_lead_time_days', models.IntegerField(blank=True, null=True)),
                ('is_discontinued', models.BooleanField(default=False)),
                ('valid_from', models.DateField(blank=True, null=True)),
                ('valid_until', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('group_code', models.ForeignKey(blank=True, db_column='group_code', null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.taxonomygroup')),
                ('oem_code', models.ForeignKey(db_column='oem_code', on_delete=django.db.models.deletion.CASCADE, to='core.oembrand', to_field='oem_code')),
            ],
            options={
                'db_table': 'oem.catalog_items',
                'ordering': ['oem_code', 'part_number'],
            },
        ),
        migrations.CreateModel(
            name='InvoiceItem',
            fields=[
                ('invoice_item_id', models.AutoField(primary_key=True, serialize=False)),
                ('internal_sku', models.CharField(blank=True, db_column='internal_sku', max_length=20, null=True)),
                ('description', models.TextField()),
                ('qty', models.DecimalField(decimal_places=3, max_digits=10)),
                ('unit_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('tax_percent', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('discount_percent', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5)),
                ('invoice', models.ForeignKey(db_column='invoice_id', on_delete=django.db.models.deletion.CASCADE, to='core.invoice')),
            ],
            options={
                'db_table': 'svc.invoice_items',
                'ordering': ['invoice', 'invoice_item_id'],
            },
        ),
        migrations.AddField(
            model_name='flatratestandard',
            name='group_code',
            field=models.ForeignKey(blank=True, db_column='group_code', null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.taxonomygroup'),
        ),
        migrations.CreateModel(
            name='Fitment',
            fields=[
                ('fitment_id', models.AutoField(primary_key=True, serialize=False)),
                ('internal_sku', models.CharField(blank=True, db_column='internal_sku', max_length=20, null=True)),
                ('score', models.SmallIntegerField(default=100)),
                ('notes', models.TextField(blank=True, null=True)),
                ('verified_date', models.DateField(blank=True, null=True)),
                ('is_primary_fit', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('equipment', models.ForeignKey(db_column='equipment_id', on_delete=django.db.models.deletion.CASCADE, to='core.equipment')),
                ('verified_by', models.ForeignKey(blank=True, db_column='verified_by', null=True, on_delete=django.db.models.deletion.SET_NULL, to='core.technician')),
            ],
            options={
                'db_table': 'cat.fitment',
                'ordering': ['equipment', '-is_primary_fit', '-score'],
            },
        ),
        migrations.CreateModel(
            name='ColorCode',
            fields=[
                ('color_id', models.AutoField(primary_key=True, serialize=False)),
                ('color_code', models.CharField(max_length=10, unique=True)),
                ('brand', models.CharField(default='GENERIC', max_length=30)),
                ('name_es', models.CharField(max_length=50)),
                ('name_en', models.CharField(blank=True, max_length=50, null=True)),
                ('hex_code', models.CharField(blank=True, max_length=7, null=True)),
                ('paint_type', models.CharField(blank=True, max_length=20, null=True)),
                ('is_metallic', models.BooleanField(default=False)),
                ('sort_order', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'db_table': 'cat.color_codes',
                'ordering': ['brand', 'sort_order', 'color_code'],
                'unique_together': {('brand', 'color_code')},
            },
        ),
        migrations.CreateModel(
            name='Bin',
            fields=[
                ('bin_id', models.AutoField(primary_key=True, serialize=False)),
                ('bin_code', models.CharField(max_length=30)),
                ('description', models.CharField(blank=True, max_length=100, null=True)),
                ('zone', models.CharField(blank=True, max_length=30, null=True)),
                ('aisle', models.CharField(blank=True, max_length=10, null=True)),
                ('rack', models.CharField(blank=True, max_length=10, null=True)),
                ('level', models.CharField(blank=True, max_length=10, null=True)),
                ('position', models.CharField(blank=True, max_length=10, null=True)),
                ('capacity', models.IntegerField(blank=True, null=True)),
                ('max_weight_kg', models.DecimalField(blank=True, decimal_places=2, max_digits=8, null=True)),
                ('current_occupancy', models.IntegerField(default=0)),
                ('temperature_zone', models.CharField(blank=True, max_length=20, null=True)),
                ('hazard_level', models.CharField(blank=True, max_length=20, null=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('warehouse_code', models.ForeignKey(db_column='warehouse_code', on_delete=django.db.models.deletion.CASCADE, to='core.warehouse', to_field='warehouse_code')),
            ],
            options={
                'db_table': 'inv.bins',
                'ordering': ['warehouse_code', 'zone', 'aisle', 'rack', 'level', 'position'],
            },
        ),
        migrations.AddIndex(
            model_name='taxonomygroup',
            index=models.Index(fields=['subsystem_code'], name='cat.taxonom_subsyst_d2e6e0_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='servicechecklist',
            unique_together={('flat_rate', 'sequence_no')},
        ),
        migrations.AlterUniqueTogether(
            name='productprice',
            unique_together={('price_list', 'internal_sku', 'valid_from')},
        ),
        migrations.AlterUniqueTogether(
            name='oemequivalence',
            unique_together={('oem_part_number', 'oem_code', 'aftermarket_sku')},
        ),
        migrations.AlterUniqueTogether(
            name='oemcatalogitem',
            unique_together={('oem_code', 'part_number')},
        ),
        migrations.AlterUniqueTogether(
            name='fitment',
            unique_together={('internal_sku', 'equipment')},
        ),
        migrations.AlterUniqueTogether(
            name='bin',
            unique_together={('warehouse_code', 'bin_code')},
        ),
    ]
